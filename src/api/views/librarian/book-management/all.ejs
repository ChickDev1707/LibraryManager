<%- contentFor('head') %> 
<title>Books</title>
<script src="/public/js/book-management.js"></script>
<link rel="stylesheet" href="../../../../public/css/components/search-bar.css">
<link rel="stylesheet" href="../../../../public/css/components/filepond.css">
<%- contentFor('body') %> 
<%- include('../../partials/header/librarian-header.ejs') %>
<div class="table-responsive container-xxl  mx-auto my-2 d-flex flex-column">
  <div class="d-flex flex-lg-row flex-sm-column flex-column justify-content-between mb-3">
    <div class="d-flex flex-row justify-content-between align-items-center">
      <h2 class="page-title">
        QUẢN LÝ ĐẦU SÁCH
      </h2> 
      <button 
        type="button" 
        class="icon-text-btn ms-4 py-2"
        style="width: 7rem;"
        data-bs-toggle="modal" 
        data-bs-target="#new_modal"
      >
        <i class="fas fa-plus" aria-hidden="true"></i>
        Thêm
      </button>
    </div>
    <div class="d-flex justify-content-end align-items-center">
      <div class="search-bar ">
        <input type="text" placeholder="Từ khóa" id="search_bar_input">
        <button onclick="searchBook()">
          <i class="fas fa-search" aria-hidden="true"></i> 
          Tìm kiếm
        </button>
      </div>
    </div>
    
  </div>

  <table class="table align-middle text-center table-striped  shadow" id="all-book-table">
    <thead>
      <tr>
        <th scope="col">Tên đầu sách</th>
        <th scope="col">Ngày nhập</th>
        <th scope="col">Giá</th>
        <th scope="col">Số lượng</th>
        <th scope="col"></th>
      </tr>
    </thead>

    <tbody>
      <% books.forEach(book => { %>
        <%- include("../../partials/book-management/row.ejs", {book: book}) %>
      <%} ) %>
      
      
    </tbody>
  </table>
  <div id="all_modal">
    <% books.forEach(book => { %>
      <%- include("../../partials/book-management/edit.ejs", {
        book: book,
        bookCategories: bookCategories
      }) %> 
    <% }) %>

    <%- include("../../partials/book-management/new.ejs", {
      bookCategories: bookCategories
    }) %> 
  </div>
</div>
<script src="../../../../public/js/book-management.js"></script>